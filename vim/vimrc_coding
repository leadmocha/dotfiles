"" First things first. Load up any system files if they exist
"" Ubuntu/Debian systems
if filereadable('/etc/vim/vimrc')
  source /etc/vim/vimrc
endif

"" Fedora based systems
if filereadable('/etc/vimrc')
  source /etc/vimrc
endif


"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"" Now make changes as needed

"" Auto-format comments while typing
set fo+=r

"" Disable folds by default
set nofoldenable

"" Set file formats ??
"set fileformats="unix,macs,dos"

"" Show matching brackets
set showmatch

"set bs=2               " allow backspacing over everything
"set smartindent        " smart indenting
filetype plugin indent on

"" Enable spell check
set spellfile=~/.vim/spellfile.add
set spelllang=en_us

"" Display line numbers by default
set number

"" Enable 256 colors by default. I think this is a good estimate for modern
"" terminals now.
set t_Co=256

"" A tab should be represented by 2 spaces.
set expandtab " Convert tabs into spaces
set tabstop=2 " A tab represents this many spaces
set shiftwidth=2  " Like tabstop but for indentations
set softtabstop=2 " Formatting tabstops

"" Higlight special characters with other special characters :D
"set list listchars=tab:Ã‚Â»Ã‚Â·,trail:Ã‚Â· 
"set list listchars=tab:Â»Â·,trail:Â·Â·
set list listchars=tab:»·,trail:· 

"" In case the CSApprox plugin is used, configure it now
"" This plugin converts GUI colors to appropriate cterm colors
let g:CSApprox_attr_map = { 'bold' : '', 'italic' : '', 'sp' : '' }
let g:CSApprox_loaded = 1 " Stop loading it for now, disable when I modify the scheme
colorscheme jc2_tir_black " My usual color scheme
colorscheme csapprox_jc2_tir_black " Colors corrected/approximated by CSApprox

" """""""" These are for the OmniComplete feature!!! GREAT!

" configure tags - add additional tags here or comment out not-used ones
set tags+=~/.vim/tags/cpp
set tags+=~/.vim/tags/gl
set tags+=~/.vim/tags/sdl
set tags+=~/.vim/tags/qt4
set tags+=~/.vim/tags/root
set tags+=~/.vim/tags/analyzer
" build tags of your own project with CTRL+F12
map <A-F5> :!ctags -R --c++-kinds=+p --fields=+iaS --extra=+q .<CR>

" OmniCppComplete
let OmniCpp_NamespaceSearch = 1
let OmniCpp_GlobalScopeSearch = 1
let OmniCpp_ShowAccess = 1
let OmniCpp_MayCompleteDot = 1
let OmniCpp_MayCompleteArrow = 1
let OmniCpp_MayCompleteScope = 1
let OmniCpp_DefaultNamespaces = ["std", "_GLIBCXX_STD"]
" automatically open and close the popup menu / preview window
au CursorMovedI,InsertLeave * if pumvisible() == 0|silent! pclose|endif
set completeopt=menuone,menu,longest,preview

" To make mouse work with TMUX
"set mouse=a


"" Load up powerline if config exists
if filereadable(expand("~/.vim/vimrc_coding_powerline"))
  source ~/.vim/vimrc_coding_powerline
endif

"set rtp+=~/.local/lib/python2.7/site-packages/powerline/powerline/bindings/vim
"python from powerline.vim import setup as powerline_setup
"python powerline_setup()
"python del powerline_setup

"set laststatus=2 " Always display the statusline in all windows
"set guifont=Inconsolata\ for\ Powerline:h14
"set noshowmode " Hide the default mode text (e.g. -- INSERT -- below the statusline)

"let g:Powerline_symbols = 'fancy'
"let g:Powerline_dividers_override = ["\Ue0b0", "\Ue0b1", "\Ue0b2", "\Ue0b3"]
"let g:Powerline_symbols_override = { 'BRANCH': "\Ue0a0", 'LINE': "\Ue0a1", 'RO': "\Ue0a2" }

"" Load up a plugin manager (Pathogen)
execute pathogen#infect()


"" Configure indentLine plugin
"" Commented out, use default
"let g:indentLine_char='Ã¯Â¸Â™'
"let g:indentLine_color_term=244

"" Configure the eclim pluggin
"let g:EclimLoclistSignText='Ã‚Â»Ã‚Â·'
"let g:EclimLoclistSignText='»·'
let g:EclimLoclistSignText = "\u00BB"
let g:EclimInfoHighlight = 'Normal'
let g:EclimWarningHighlight = 'Normal'
let g:EclimErrorHighlight = 'Normal'
let g:EclimXmlValidate=0 " Disable XML validation by default
